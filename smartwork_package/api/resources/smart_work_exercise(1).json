{
  "contentType": "application/vnd.gorules.decision",
  "edges": [
    {
      "id": "340b6da0-6d60-4c86-b6c3-0911b869a151",
      "sourceId": "6008c3b4-eaa3-4616-941d-bcd2fea8c1de",
      "type": "edge",
      "targetId": "c778bf56-041c-49a0-a280-a938ae57cea7"
    },
    {
      "id": "cfb50812-a661-4dc5-afd0-e3e4b70134a8",
      "sourceId": "9ecc2d4f-f406-4ebc-8d9c-d7c61f65aa87",
      "type": "edge",
      "targetId": "c778bf56-041c-49a0-a280-a938ae57cea7"
    },
    {
      "id": "52e3b695-9830-4ec6-bbb3-e2fd26f91c3d",
      "sourceId": "b079d155-8dfa-4c06-9d9b-3da08b0d1357",
      "type": "edge",
      "targetId": "b9fe2711-eaed-428c-b24d-16491230960d"
    },
    {
      "id": "be1ef6d2-6796-47f0-96c8-b5a9f1d1af33",
      "sourceId": "b9fe2711-eaed-428c-b24d-16491230960d",
      "type": "edge",
      "targetId": "6008c3b4-eaa3-4616-941d-bcd2fea8c1de"
    },
    {
      "id": "ed8926a1-d0d0-4dd0-8a54-4392e1b981d2",
      "sourceId": "b9fe2711-eaed-428c-b24d-16491230960d",
      "type": "edge",
      "targetId": "9ecc2d4f-f406-4ebc-8d9c-d7c61f65aa87"
    }
  ],
  "nodes": [
    {
      "id": "b079d155-8dfa-4c06-9d9b-3da08b0d1357",
      "type": "inputNode",
      "position": {
        "x": 430,
        "y": 600
      },
      "name": "Request"
    },
    {
      "id": "b9fe2711-eaed-428c-b24d-16491230960d",
      "type": "functionNode",
      "position": {
        "x": 780,
        "y": 600
      },
      "name": "pain flag",
      "content": "/**\n* @param {import('gorules').Input} input\n* @param {{\n*  moment: import('dayjs')\n*  env: Record<string, any>\n* }} helpers\n*/\nconst handler = (input, { moment, env }) => {\n  input_copy=Object.assign({}, input);\n  if (input.bt_pain_average>=7 || \n      (input.bt_pain_average<=2 && input.bt_pain_average-input.bt_pain_average_prev>=4) ||\n      ((input.bt_pain_average>=3 && input.bt_pain_average<=6) && input.bt_pain_average-input.bt_pain_average_prev>=3)\n      ){\n        input_copy[\"pain\"]=\"Pain relief\"\n      }\n  else{\n    input_copy[\"pain\"]=null\n  }\n\n  console.log(input_copy)\n  return input_copy;\n}"
    },
    {
      "id": "9ecc2d4f-f406-4ebc-8d9c-d7c61f65aa87",
      "type": "functionNode",
      "position": {
        "x": 1180,
        "y": 710
      },
      "name": "exercise_filter",
      "content": "/**\n* @param {import('gorules').Input} input\n* @param {{\n*  moment: import('dayjs')\n*  env: Record<string, any>\n* }} helpers\n*/\nconst handler = (input, { moment, env }) => {\n  console.log(input)\n  filtered_input=input.exercises.filter(exercise => exercise.Condition.includes(input.condition))\n  return filtered_input;\n}"
    },
    {
      "id": "6008c3b4-eaa3-4616-941d-bcd2fea8c1de",
      "type": "decisionTableNode",
      "position": {
        "x": 1110,
        "y": 510
      },
      "name": "duration",
      "content": {
        "hitPolicy": "collect",
        "inputs": [
          {
            "field": "input",
            "id": "aKkvTlwb0e",
            "name": "Input",
            "type": "expression"
          },
          {
            "id": "pNiG8Vye5J",
            "type": "expression",
            "field": "duration",
            "name": "duration"
          }
        ],
        "outputs": [
          {
            "field": "output",
            "id": "dewUwC0WeZ",
            "name": "Output",
            "type": "expression"
          },
          {
            "id": "dWmeVlVsA2",
            "type": "expression",
            "field": "number",
            "name": "number"
          },
          {
            "id": "PPhaMKURKR",
            "type": "expression",
            "field": "sets",
            "name": "sets"
          },
          {
            "id": "_1BJ9jhDxo",
            "type": "expression",
            "field": "repetitions",
            "name": "repetitions"
          }
        ],
        "rules": [
          {
            "_id": "6x_kD9aKMg",
            "aKkvTlwb0e": "",
            "pNiG8Vye5J": "5",
            "dewUwC0WeZ": "",
            "dWmeVlVsA2": "3",
            "PPhaMKURKR": "1",
            "_1BJ9jhDxo": "10"
          },
          {
            "_id": "Ge8onz_-mE",
            "aKkvTlwb0e": "",
            "pNiG8Vye5J": "10",
            "dewUwC0WeZ": "",
            "dWmeVlVsA2": "3",
            "PPhaMKURKR": "2",
            "_1BJ9jhDxo": "10"
          },
          {
            "_id": "jy1_Oodh0-",
            "aKkvTlwb0e": "",
            "pNiG8Vye5J": "15",
            "dewUwC0WeZ": "",
            "dWmeVlVsA2": "3",
            "PPhaMKURKR": "3",
            "_1BJ9jhDxo": "10"
          },
          {
            "_id": "03tCvV0d8o",
            "aKkvTlwb0e": "",
            "pNiG8Vye5J": "20",
            "dewUwC0WeZ": "",
            "dWmeVlVsA2": "4",
            "PPhaMKURKR": "3",
            "_1BJ9jhDxo": "10"
          },
          {
            "_id": "qtihcSyBDR",
            "aKkvTlwb0e": "",
            "pNiG8Vye5J": "25",
            "dewUwC0WeZ": "",
            "dWmeVlVsA2": "5",
            "PPhaMKURKR": "3",
            "_1BJ9jhDxo": "10"
          },
          {
            "_id": "4D1xnpJUGA",
            "aKkvTlwb0e": "",
            "pNiG8Vye5J": "30",
            "dewUwC0WeZ": "",
            "dWmeVlVsA2": "6",
            "PPhaMKURKR": "3",
            "_1BJ9jhDxo": "10"
          },
          {
            "_id": "n1QGMEWmMk",
            "aKkvTlwb0e": "",
            "pNiG8Vye5J": "35",
            "dewUwC0WeZ": "",
            "dWmeVlVsA2": "7",
            "PPhaMKURKR": "3",
            "_1BJ9jhDxo": "10"
          },
          {
            "_id": "CYZoa9kKpK",
            "aKkvTlwb0e": "",
            "pNiG8Vye5J": "40",
            "dewUwC0WeZ": "",
            "dWmeVlVsA2": "8",
            "PPhaMKURKR": "3",
            "_1BJ9jhDxo": "10"
          },
          {
            "_id": "L8LgS3fuNf",
            "aKkvTlwb0e": "",
            "pNiG8Vye5J": "45",
            "dewUwC0WeZ": "",
            "dWmeVlVsA2": "9",
            "PPhaMKURKR": "3",
            "_1BJ9jhDxo": "10"
          },
          {
            "_id": "nBMWhXtnWq",
            "aKkvTlwb0e": "",
            "pNiG8Vye5J": "50",
            "dewUwC0WeZ": "",
            "dWmeVlVsA2": "10",
            "PPhaMKURKR": "3",
            "_1BJ9jhDxo": "10"
          },
          {
            "_id": "IaZEXKfab1",
            "aKkvTlwb0e": "",
            "pNiG8Vye5J": "55",
            "dewUwC0WeZ": "",
            "dWmeVlVsA2": "11",
            "PPhaMKURKR": "3",
            "_1BJ9jhDxo": "10"
          },
          {
            "_id": "Glo0UPU5RT",
            "aKkvTlwb0e": "",
            "pNiG8Vye5J": "60",
            "dewUwC0WeZ": "",
            "dWmeVlVsA2": "12",
            "PPhaMKURKR": "3",
            "_1BJ9jhDxo": "10"
          }
        ]
      }
    },
    {
      "id": "c778bf56-041c-49a0-a280-a938ae57cea7",
      "type": "outputNode",
      "position": {
        "x": 1490,
        "y": 530
      },
      "name": "Response"
    }
  ]
}